\chapter{Phương pháp đề xuất}
\section{Định nghĩa bài toán}
% Tổng quan về bài toán: Cho các thông tin và các chỉ số xét nghiệm của một bệnh nhân $A$, hệ thống sẽ dự đoán được thời gian nằm viện của bệnh nhân đó.
% \begin{itemize}
% \item Dữ liệu đầu vào: Các thông tin và chỉ số xét nghiệm sức khỏe của một bệnh nhân.
% \item Dữ liệu đầu ra: Thời gian nằm viện của bệnh nhân
% \end{itemize}
% \section{Kiến trúc hệ thống}
% Từ các công trình nghiên cứu đã tham khảo, chúng tôi đề xuất sử dụng kiến trúc đường ống. Mỗi module thực hiện một chức năng nhất định và thực hiện tuần tự đến khi kết thúc. Tuy nhiên trong quá trình thực hiện có thể sửa đổi, bổ sung để mô hình hoàn thiện hơn.\\
% \begin{center}
%  \resizebox{1\textwidth}{!}{
% \begin{tikzpicture}[shorten >=1pt,node distance=4cm,on grid,auto,/tikz/initial text=, ] 

% \node[draw=blue!68!white,fill=yellow!14!white,align=center,thick,rounded corners,minimum width = 4cm,minimum height = 1cm] (3) {
% 		Lọc dữ liệu		
% }  ;
% \node[draw=blue!68!white,fill=yellow!14!white,align=center,thick,rounded corners,minimum width = 6.5cm,minimum height = 1cm] (4) at ($(3)+(0:6)$) {
% 		Trích xuất và tách nhóm dữ liệu
% }  ;
% \node[draw=blue!68!white,fill=yellow!14!white,align=center,thick,rounded corners,minimum width = 4cm,minimum height = 1cm]  (1) at ($(3.west)!0.5!(4.east)+(90:4)$) {
% 		Tìm hiểu dữ liệu
% }  ; 
% \node[draw=blue!68!white,fill=yellow!14!white,align=center,thick,rounded corners,minimum width = 4cm,minimum height = 1cm] (5) at ($(4.south)+(-90:2)+(0:1.25)$) {
% 		Làm sạch dữ liệu
% }  ;
% \node[draw=blue!68!white,fill=yellow!14!white,align=center,thick,rounded corners,minimum width = 6.5cm,minimum height = 1cm] (6) at ($(5)+(180:6)$) {
% 		Biến đổi và chuẩn hóa dữ liệu
% }  ;
% \node[draw=blue!68!white,fill=yellow!14!white,align=center,thick,rounded corners,minimum width = 6.5cm,minimum height = 1cm] (7) at ($(6.south)+(-90:2)+(180:0)$) {
% 		Tích hợp và phân nhóm dữ liệu
% }  ;
% \node[draw=none] (8) at ($(3.west)!0.5!(4.east)+(-90:7)$) {
% 		\textbf{Tiền xử lý dữ liệu}
% }  ;
% \node[draw=blue!68!white,fill=yellow!14!white,align=center,thick,rounded corners,minimum width = 4cm,minimum height = 1cm] (15) at ($(4)+(0:10.5)$) {
% 	SVM
% }  ;
% \node[draw=blue!68!white,fill=yellow!14!white,align=center,thick,rounded corners,minimum width = 4cm,minimum height = 1cm] (16) at ($(15.south)+(-90:2)$) {
% 	Cubist
% }  ;
% \node[draw=blue!68!white,fill=yellow!14!white,align=center,thick,rounded corners,minimum width = 4cm,minimum height = 1cm] (17) at ($(16.south)+(-90:2)$) {
% 	Rừng ngẫu nhiên
% }  ;
% \node[draw=blue!68!white,fill=yellow!14!white,align=center,thick,rounded corners,minimum width = 4cm,minimum height = 1cm] (18) at ($(15.east)+(0:3)$) {
% 	AFT
% }  ;
% \node[draw=none] (19) at ($(16.east)+(0:3)$) {
% 	$\cdots$
% }  ;
% \node[draw=none] (20) at ($(15.west)!0.5!(18.east)+(-90:7)$) {
% 		\textbf{Mô hình hóa}
% }  ;
% \node[draw=blue!68!white,fill=yellow!14!white,align=center,thick,rounded corners,minimum width = 4cm,minimum height = 1cm]  (21) at ($(15.west)!0.5!(18.east)+(90:4)$) {
% 		Đánh giá kết quả
% }  ;
% \draw[->,>=stealth,thick] (1) -- ($(3.north west)!0.5!(4.north east)+(90:1)$);
% \draw[->,>=stealth,thick] (3.east) -- (4.west);
% \draw[<-,>=stealth,thick] (5.north) -- ($(5.north)+(4.south east)-(5.north east)$);
% \draw[->,>=stealth,thick] (5.west) -- (6.east);
% \draw[->,>=stealth,thick] (6.south) -- (7.north);
% \draw[thick,dashed,color=blue] ($(8.south)+(-90:1)$) -| ($(5.east)+(0:1)$) |- ($(3.north)+(90:1)$) -| ($(6.west)+(180:1)$) |- cycle ;
% \draw[thick,dashed,color=blue] ($(20.south)+(-90:1)$) -| ($(18.east)+(0:1)$) |- ($(15.north)+(90:1)$) -| ($(15.west)+(180:1)$) |- cycle ;
% \draw[->,>=stealth,thick,transform canvas={yshift=7pt}] ($(5.east)+(0:1)$) -- ($(16.west)+(180:1)$);
% \draw[->,>=stealth,thick,transform canvas={yshift=-7pt}] ($(16.west)+(180:1)$) -- ($(5.east)+(0:1)$);
% \draw[->,>=stealth,thick] ($(15.north west)!0.5!(18.north east)+(90:1)$) -- (21.south);
% \draw[->,>=stealth,thick] (21.west) -- (1.east);
% \end{tikzpicture}
% }
% \end{center}
% \subsection{Tiền xử lý dữ liệu}
% \textit{Module 1 - Lọc dữ liệu}: Loại bỏ các bảng ghi dữ liệu mà thiếu các trường thông tin quan trọng hoặc không có các trường thông tin mà ta quan tâm\\
% \textit{Module 2 - Trích xuất và tách nhóm dữ liệu}: Không phải tất cả các trường dữ liệu đều có giá trị để tính toán. Một trường dữ liệu cũng có thể chứa một hoặc một nhóm các thông tin. Ta cần trích ra những trường nào chứa thông tin quan trọng và chia các trường chứa nhiều dữ liệu thành nhiều trường nhỏ.\\
% \textit{Module 3 - Làm sạch dữ liệu}: Dữ liệu thực tế thường không đầy đủ và nhất quán. Ta cần xử lý các trường hợp trường bị thiếu dữ liệu, chứa sai loại, kiểu, giá trị dữ liệu,$\ldots$\\
% \textit{Module 4 - Biến đổi và chuẩn hóa dữ liệu}: Dữ liệu có thể được lưu dưới nhiều kiểu. Ta cần đưa dữ liệu trong cùng một trường về cùng định dạng để dễ xử lý.\\
% \textit{Module 5 - Tích hợp và phân nhóm dữ liệu}: Một số thuộc tính có thể cần tổng hợp nhiều trường dữ liệu để suy ra (ví dụ như $LOS = \text{ngày xuất viện} - \text{ngày nhập viện}$). Việc phân nhóm, gán nhãn cho một số trường cũng có thể giúp ích cho quá trình học máy.
% \subsection{Dự đoán thời gian nằm viện}
% \textit{Xem xét xu hướng và độ phân tán dữ liệu}: Việc xem xét xu hướng và độ lệch dữ liệu là hết sức quan trọng trong việc chọn mô hình. Trong hầu hết các nghiên cứu mà chúng tôi tham khảo, dữ liệu có xu hướng lệch phải và độ phân tán dữ liệu là rất lớn. Vì vậy cần phải chọn các mô hình phù hợp với xu hướng dữ liệu và không bị ảnh hưởng bởi độ phân tán.\\
% \textit{Các tập phổ biến, tương quan giữa các trường}: Việc tìm ra tập các trường thường xuyên xuất hiện hay quan hệ giữa các trường có thể không nâng cao hiệu quả mô hình nhưng giúp ta thấy được các quy luật để dự đoán thời gian nằm viện. Qua đó giúp ta cải thiện các điều này để nâng cao hiệu quả trong thực tế. Khi lựa chọn mô hình ta cũng nên quan tâm đến tính năng này.\\
% \textit{Module 6 - Dự đoán thời gian nằm viện}: Lựa chọn các mô hình học máy thỏa mãn các điều kiện trên để dự đoán khoảng thời gian nằm viện. Các mô hình được chọn trước mắt bao gồm rừng ngẫu nhiên, SVM, Cubist và AFT.